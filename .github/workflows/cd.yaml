# This continuous delivery pipeline is triggered on pushes to master.
# It builds the Windows x86 components (Injector + API), then builds
# the Windows x64 and Linux x64 platform bundles in parallel, and
# finally packages both into release zips and publishes a GitHub release.
name: Daybreak CD Pipeline

on:
  push:
    branches:
      - master
    paths:
      - "Daybreak.Core/**"
      - "Daybreak.Installer/**"
      - "Daybreak.API/**"
      - "Daybreak.Shared/**"
      - "Daybreak.Windows/**"
      - "Daybreak.Linux/**"
  workflow_dispatch:

jobs:
  cd:
    uses: ./.github/workflows/cd-template.yml
    with:
      publishRelease: true
    secrets: inherit
