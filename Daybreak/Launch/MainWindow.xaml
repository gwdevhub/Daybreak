<ui:FluentWindow
    x:Class="Daybreak.Launch.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:blazor="http://schemas.microsoft.com/winfx/2006/xaml/presentation/blazor"
    xmlns:buttons="clr-namespace:Daybreak.Controls.Buttons"
    xmlns:controls="clr-namespace:Daybreak.Controls"
    xmlns:converters="clr-namespace:Daybreak.Shared.Converters;assembly=Daybreak.Shared"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:effects="clr-namespace:System.Windows.Media.Extensions.Effects;assembly=WpfExtended"
    xmlns:glyphs="clr-namespace:Daybreak.Controls.Glyphs"
    xmlns:mah="http://metro.mahapps.com/winfx/xaml/controls"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:notifications="clr-namespace:Daybreak.Controls.Notifications"
    xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
    xmlns:views="clr-namespace:Daybreak.Views"
    x:Name="_this"
    Title="Daybreak"
    d:DesignHeight="450"
    d:DesignWidth="800"
    BorderBrush="Gray"
    Foreground="White"
    Loaded="Window_Loaded"
    ResizeMode="CanResize"
    WindowStyle="None"
    mc:Ignorable="d">
    <Window.Resources>
        <ResourceDictionary>
            <BooleanToVisibilityConverter x:Key="BaseBooleanToVisibilityConverter" />
            <converters:BooleanToEffectConverter x:Key="BooleanToEffectConverter" />
            <effects:Kuwahara
                x:Key="PaintifyEffect"
                TexelHeight="50"
                TexelWidth="200" />
            <BlurEffect
                x:Key="BlurEffect"
                KernelType="Box"
                Radius="3"
                RenderingBias="Performance" />
            <Style x:Key="Window_SettingsButton" TargetType="ToggleButton">
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="{x:Type ToggleButton}">
                            <Grid Cursor="Hand">
                                <Rectangle
                                    x:Name="OverlayRect"
                                    Fill="{TemplateBinding Background}"
                                    Opacity="0" />
                                <glyphs:ThreeDotsGlyph Margin="13" />
                            </Grid>
                            <ControlTemplate.Triggers>
                                <MultiTrigger>
                                    <MultiTrigger.Conditions>
                                        <Condition Property="IsMouseOver" Value="True" />
                                    </MultiTrigger.Conditions>
                                    <MultiTrigger.Setters>
                                        <Setter TargetName="OverlayRect" Property="Opacity" Value="1" />
                                    </MultiTrigger.Setters>
                                </MultiTrigger>
                                <MultiTrigger>
                                    <MultiTrigger.Conditions>
                                        <Condition Property="IsMouseOver" Value="False" />
                                    </MultiTrigger.Conditions>
                                    <MultiTrigger.Setters>
                                        <Setter TargetName="OverlayRect" Property="Opacity" Value="0" />
                                    </MultiTrigger.Setters>
                                </MultiTrigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>
        </ResourceDictionary>
    </Window.Resources>
    <Grid Background="Black">
        <Grid.RowDefinitions>
            <RowDefinition Height="30" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="auto" />
            <ColumnDefinition Width="*" />
        </Grid.ColumnDefinitions>
        <Grid
            x:Name="Container"
            Grid.Row="1"
            Grid.Column="1" />
        <Grid
            x:Name="MenuContainer"
            Grid.RowSpan="2"
            Width="0"
            HorizontalAlignment="Left"
            VerticalAlignment="Stretch"
            Background="{DynamicResource Daybreak.Brushes.Background}">
            <Border BorderBrush="{DynamicResource MahApps.Brushes.ThemeForeground}" BorderThickness="0,0,1,0" />
            <controls:MenuList Margin="0,30,0,0" />
        </Grid>
        <blazor:BlazorWebView
            x:Name="BlazorWebView"
            Grid.RowSpan="2"
            Grid.ColumnSpan="2"
            HostPage="wwwroot\index.html"
            Services="{DynamicResource services}">
            <blazor:BlazorWebView.RootComponents>
                <blazor:RootComponent ComponentType="{x:Type views:App}" Selector="#app" />
            </blazor:BlazorWebView.RootComponents>
        </blazor:BlazorWebView>
        <notifications:NotificationStackpanel
            Grid.Row="1"
            Grid.ColumnSpan="2"
            Width="300"
            HorizontalAlignment="Right"
            VerticalAlignment="Bottom" />
    </Grid>
</ui:FluentWindow>