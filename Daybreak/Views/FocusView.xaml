<UserControl x:Class="Daybreak.Views.FocusView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:Daybreak.Views"
             xmlns:controls="clr-namespace:Daybreak.Controls"
             xmlns:templates="clr-namespace:Daybreak.Controls.Templates"
             mc:Ignorable="d" 
             Loaded="FocusView_Loaded"
             Unloaded="FocusView_Unloaded"
             x:Name="_this"
             d:DesignHeight="450" d:DesignWidth="800">
    <UserControl.Resources>
        <BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter"></BooleanToVisibilityConverter>
    </UserControl.Resources>
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="0.1*"></ColumnDefinition>
            <ColumnDefinition Width="*"></ColumnDefinition>
            <ColumnDefinition Width="*"></ColumnDefinition>
            <ColumnDefinition Width="0.1*"></ColumnDefinition>
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="0.1*"></RowDefinition>
            <RowDefinition Height="0.6*"></RowDefinition>
            <RowDefinition Height="0.2*"></RowDefinition>
            <RowDefinition Height="0.1*"></RowDefinition>
        </Grid.RowDefinitions>
        <controls:ResourceBar 
                Grid.Column="1"
                Grid.ColumnSpan="2"
                Grid.Row="2"
                Height="30"
                CurrentResourceValue="{Binding ElementName=_this, Path=CurrentExperienceInLevel, Mode=OneWay}"
                MaxResourceValue="{Binding ElementName=_this, Path=NextLevelExperienceThreshold, Mode=OneWay}"
                VerticalAlignment="Bottom"
                HorizontalAlignment="Center"
                BarColor="#a026ff00"
                Foreground="White"
                FontSize="22"
                Cursor="Hand"
                Text="{Binding ElementName=_this, Path=ExperienceBarText, Mode=OneWay}"
                MouseLeftButtonDown="ExperienceBar_MouseLeftButtonDown"></controls:ResourceBar>
        <controls:ResourceBar 
                Grid.Column="1"
                Grid.Row="2"
                Margin="0, 0, 20, 80"
                Height="30"
                CurrentResourceValue="{Binding ElementName=_this, Path=GameData.User.CurrentKurzickPoints, Mode=OneWay}"
                MaxResourceValue="{Binding ElementName=_this, Path=GameData.User.TotalKurzickPoints, Mode=OneWay}"
                VerticalAlignment="Bottom"
                HorizontalAlignment="Left"
                BarColor="#a00b00ff"
                Foreground="White"
                FontSize="22"
                Cursor="Hand"
                Text="{Binding ElementName=_this, Path=KurzickBarText, Mode=OneWay}"
                MouseLeftButtonDown="KurzickBar_MouseLeftButtonDown"></controls:ResourceBar>
        <controls:ResourceBar 
                Grid.Column="1"
                Grid.Row="2"
                Margin="0, 0, 20, 40"
                Height="30"
                CurrentResourceValue="{Binding ElementName=_this, Path=GameData.User.CurrentLuxonPoints, Mode=OneWay}"
                MaxResourceValue="{Binding ElementName=_this, Path=GameData.User.TotalLuxonPoints, Mode=OneWay}"
                VerticalAlignment="Bottom"
                HorizontalAlignment="Left"
                BarColor="#a0ff3400"
                Foreground="White"
                FontSize="22"
                Cursor="Hand"
                Text="{Binding ElementName=_this, Path=LuxonBarText, Mode=OneWay}"
                MouseLeftButtonDown="LuxonBar_MouseLeftButtonDown"></controls:ResourceBar>
        <controls:ResourceBar 
                Grid.Column="2"
                Grid.Row="2"
                Margin="20, 0, 0, 80"
                Height="30"
                CurrentResourceValue="{Binding ElementName=_this, Path=GameData.User.CurrentImperialPoints, Mode=OneWay}"
                MaxResourceValue="{Binding ElementName=_this, Path=GameData.User.TotalImperialPoints, Mode=OneWay}"
                VerticalAlignment="Bottom"
                HorizontalAlignment="Left"
                BarColor="#a0a800ff"
                Foreground="White"
                FontSize="22"
                Cursor="Hand"
                Text="{Binding ElementName=_this, Path=ImperialBarText, Mode=OneWay}"
                MouseLeftButtonDown="ImperialBar_MouseLeftButtonDown"></controls:ResourceBar>
        <controls:ResourceBar 
                Grid.Column="2"
                Grid.Row="2"
                Margin="20, 0, 0, 40"
                Height="30"
                CurrentResourceValue="{Binding ElementName=_this, Path=GameData.User.CurrentBalthazarPoints, Mode=OneWay}"
                MaxResourceValue="{Binding ElementName=_this, Path=GameData.User.TotalBalthazarPoints, Mode=OneWay}"
                VerticalAlignment="Bottom"
                HorizontalAlignment="Left"
                BarColor="#a0ffb200"
                Foreground="White"
                FontSize="22"
                Cursor="Hand"
                Text="{Binding ElementName=_this, Path=BalthazarBarText, Mode=OneWay}"
                MouseLeftButtonDown="BalthazarBar_MouseLeftButtonDown"></controls:ResourceBar>
        <Grid
            Grid.Row="1"
            Grid.Column="1">
            <Grid.RowDefinitions>
                <RowDefinition Height="auto"></RowDefinition>
                <RowDefinition Height="*"></RowDefinition>
            </Grid.RowDefinitions>
            <StackPanel
                Grid.Row="0"
                Margin="0, 0, 10, 0">
                <TextBlock 
                    FontSize="18"
                    Margin="5"
                    Text="Current Quest"></TextBlock>
                <TextBlock
                    Text="{Binding ElementName=_this, Path=GameData.MainPlayer.Quest.Name, Mode=OneWay}"
                    Cursor="Hand"
                    FontSize="20"
                    MouseLeftButtonDown="CurrentQuest_MouseLeftButtonDown"></TextBlock>
                <Rectangle 
                    Height="1"
                    Fill="{Binding ElementName=_this, Path=Foreground, Mode=OneWay}"></Rectangle>
                <TextBlock 
                    FontSize="18"
                    Margin="5"
                    Text="Quest Log"></TextBlock>
            </StackPanel>
            <ScrollViewer
                    VerticalScrollBarVisibility="Auto"
                    HorizontalScrollBarVisibility="Disabled"
                    Grid.Row="1">
                <templates:QuestLogTemplate
                        Foreground="{Binding ElementName=_this, Path=Foreground, Mode=OneWay}"
                        Quests="{Binding ElementName=_this,Path=GameData.MainPlayer.QuestLog, Mode=OneWay}"
                        MapClicked="QuestLogTemplate_MapClicked"
                        QuestClicked="QuestLogTemplate_QuestClicked">
                </templates:QuestLogTemplate>
            </ScrollViewer>
        </Grid>
        
        <controls:ChromiumBrowserWrapper
            x:Name="Browser"
            Grid.Column="2"
            Grid.Row="1"
            Margin="10, 0, 0, 0"
            ControlsEnabled="True"
            AddressBarReadonly="False"
            CanNavigate="True"
            Address="{Binding ElementName=_this, Path=BrowserAddress, Mode=TwoWay}"
            MaximizeClicked="Browser_MaximizeClicked"
            PreventDispose="True"></controls:ChromiumBrowserWrapper>
    </Grid>
</UserControl>
