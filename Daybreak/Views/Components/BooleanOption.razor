<div style="border: 1px solid var(--neutral-stroke-rest); border-radius: 6px; padding: 0.75rem; background: var(--neutral-fill-rest); display: flex; align-items: center; justify-content: space-between;">
    <div style="flex: 1; margin-right: 1rem;">
        <div style="font-weight: 600; color: var(--neutral-foreground-rest); margin-bottom: 0.25rem;">@this.Name</div>
        <div style="color: var(--neutral-foreground-hint); font-size: 0.85rem; line-height: 1.3;">@this.Description</div>
    </div>
    <div style="display: flex; align-items: center; gap: 0.75rem; flex-shrink: 0;">
        <FluentLabel style="font-weight: 500; font-size: 0.9rem;">@(this.Value ? "On" : "Off")</FluentLabel>
        <FluentSwitch @bind-Value="this.Value" @onchange="OnToggleChanged" />
    </div>
</div>

@inherits OptionBase<bool>
@code{
    public override bool ConvertValue(OptionInstance optionInstance, OptionProperty property)
    {
        var value = property.Getter(optionInstance) as bool?;
        return value ?? false;
    }

    private void OnToggleChanged(ChangeEventArgs e)
    {
        if (e.Value is bool newValue)
        {
            this.Value = newValue;
            this.Property.Setter(this.Instance, newValue);
        }
    }
}
